<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>/Volumes/Crucial X6/EPSI_I1/atelier-auto-tests/automatisation-test/PomodoroApp.Tests/Components/Pages/CounterTest.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Diagnostics.Metrics;
using JetBrains.Annotations;
using Microsoft.VisualStudio.TestTools.UnitTesting;
using PomodoroApp.Components.Pages;

namespace PomodoroApp.Tests.Components.Pages;

[TestClass]
[TestSubject(typeof(Counter))]
public class CounterTest
{

    [TestMethod]
    public void IncrementCountTest()
    {
        var counter = new Counter();
        counter.currentCount = 0;
        counter.IncrementCount();
        Assert.AreEqual(counter.currentCount, 1);
    }
    
    [TestMethod]
    public void FormatTimeTest()
    {
        var counter = new Counter();
        Assert.AreEqual(counter.formatTime(90), &quot;01:30&quot;);
    }
    
    [TestMethod]
    public void Set25Test()
    {
        var counter = new Counter();
        counter.Set25();
        Assert.IsTrue(counter.is25);
        Assert.AreEqual(counter.pomodoroDuration, 1500);
        Assert.AreEqual(counter.remainingTime, 1500);
    }
    
    [TestMethod]
    public void Set45Test()
    {
        var counter = new Counter();
        counter.Set45();
        Assert.IsFalse(counter.is25);
        Assert.AreEqual(counter.pomodoroDuration, 2700);
        Assert.AreEqual(counter.remainingTime, 2700);
    }
    
    [TestMethod]
    public void StartTimerTest()
    {
        var counter = new Counter();
        counter.timer = new System.Timers.Timer();
        counter.StartTimer();
        Assert.IsFalse(counter.isTimerPaused);
        Assert.IsTrue(counter.isTimerRunning);
        Assert.IsTrue(counter.timer.Enabled);
        Assert.IsTrue(counter.dureeTotale.IsRunning);
        Assert.IsTrue(counter.dureeTravail.IsRunning);
        Assert.IsFalse(counter.dureePause.IsRunning);
    }
    
    [TestMethod]
    public void StartTimerCurrentCountIsNot0Test()
    {
        var counter = new Counter();
        counter.timer = new System.Timers.Timer();
        counter.currentCount = 1;
        counter.StartTimer();
        Assert.IsFalse(counter.isTimerPaused);
        Assert.IsTrue(counter.isTimerRunning);
        Assert.IsTrue(counter.timer.Enabled);
        Assert.IsFalse(counter.dureeTotale.IsRunning);
        Assert.IsFalse(counter.dureeTravail.IsRunning);
        Assert.IsFalse(counter.dureePause.IsRunning);
    }
    
    [TestMethod]
    public void PauseTimerTest()
    {
        var counter = new Counter();
        counter.timer = new System.Timers.Timer();
        counter.PauseTimer();
        Assert.IsTrue(counter.isTimerPaused);
        Assert.IsFalse(counter.isTimerRunning);
        Assert.IsFalse(counter.timer.Enabled);
        Assert.IsFalse(counter.dureeTotale.IsRunning);
        Assert.IsFalse(counter.dureeTravail.IsRunning);
        Assert.IsFalse(counter.dureePause.IsRunning);
    }
    
    [TestMethod]
    public void ResetTimerTest()
    {
        var counter = new Counter();
        counter.timer = new System.Timers.Timer();
        counter.ResetTimer();
        Assert.IsFalse(counter.timer.Enabled);
        Assert.AreEqual(counter.remainingTime, counter.pomodoroDuration);
    }
    
    [TestMethod]
    public void EndSessionTest()
    {
        var counter = new Counter();
        counter.timer = new System.Timers.Timer();
        counter.endSession();
        Assert.IsFalse(counter.dureeTotale.IsRunning);
        Assert.IsFalse(counter.dureeTravail.IsRunning);
        Assert.IsFalse(counter.dureePause.IsRunning);
    }
    
    

}
    </pre>
    <script type="text/javascript">
      highlightRanges([[16,5,16,6,1],[17,9,17,37,1],[18,9,18,34,1],[19,9,19,34,1],[20,9,20,50,1],[21,5,21,6,1],[25,5,25,6,1],[26,9,26,37,1],[27,9,27,58,1],[28,5,28,6,1],[32,5,32,6,1],[33,9,33,37,1],[34,9,34,25,1],[35,9,35,37,1],[36,9,36,57,1],[37,9,37,54,1],[38,5,38,6,1],[42,5,42,6,1],[43,9,43,37,1],[44,9,44,25,1],[45,9,45,38,1],[46,9,46,57,1],[47,9,47,54,1],[48,5,48,6,1],[52,5,52,6,1],[53,9,53,37,1],[54,9,54,51,1],[55,9,55,30,1],[56,9,56,47,1],[57,9,57,47,1],[58,9,58,46,1],[59,9,59,54,1],[60,9,60,55,1],[61,9,61,54,1],[62,5,62,6,1],[66,5,66,6,1],[67,9,67,37,1],[68,9,68,51,1],[69,9,69,34,1],[70,9,70,30,1],[71,9,71,47,1],[72,9,72,47,1],[73,9,73,46,1],[74,9,74,55,1],[75,9,75,56,1],[76,9,76,54,1],[77,5,77,6,1],[81,5,81,6,1],[82,9,82,37,1],[83,9,83,51,1],[84,9,84,30,1],[85,9,85,46,1],[86,9,86,48,1],[87,9,87,47,1],[88,9,88,55,1],[89,9,89,56,1],[90,9,90,54,1],[91,5,91,6,1],[95,5,95,6,1],[96,9,96,37,1],[97,9,97,51,1],[98,9,98,30,1],[99,9,99,47,1],[100,9,100,74,1],[101,5,101,6,1],[105,5,105,6,1],[106,9,106,37,1],[107,9,107,51,1],[108,9,108,30,1],[109,9,109,55,1],[110,9,110,56,1],[111,9,111,54,1],[112,5,112,6,1]]);
    </script>
  </body>
</html>