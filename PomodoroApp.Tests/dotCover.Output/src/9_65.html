<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>/Volumes/Crucial X6/EPSI_I1/atelier-auto-tests/automatisation-test/PomodoroApp.Tests/Components/Pages/CounterTest.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Diagnostics.Metrics;
using JetBrains.Annotations;
using Microsoft.VisualStudio.TestTools.UnitTesting;
using PomodoroApp.Components.Pages;

namespace PomodoroApp.Tests.Components.Pages;

[TestClass]
[TestSubject(typeof(Counter))]
public class CounterTest
{
    
    [TestMethod]
    public void OnInitializedTest()
    {
        var counter = new Counter();
        counter.currentCount = 0;
        counter.IncrementCount();
        Assert.AreEqual(counter.remainingTime, counter.pomodoroDuration);
    }

    [TestMethod]
    public void IncrementCountTest()
    {
        var counter = new Counter();
        counter.currentCount = 0;
        counter.IncrementCount();
        Assert.AreEqual(counter.currentCount, 1);
    }
    
    [TestMethod]
    public void FormatTimeTest()
    {
        var counter = new Counter();
        Assert.AreEqual(counter.formatTime(90), &quot;01:30&quot;);
    }
    
    [TestMethod]
    public void Set25Test()
    {
        var counter = new Counter();
        counter.Set25();
        Assert.IsTrue(counter.is25);
        Assert.AreEqual(counter.pomodoroDuration, 1500);
        Assert.AreEqual(counter.remainingTime, 1500);
    }
    
    [TestMethod]
    public void Set45Test()
    {
        var counter = new Counter();
        counter.Set45();
        Assert.IsFalse(counter.is25);
        Assert.AreEqual(counter.pomodoroDuration, 2700);
        Assert.AreEqual(counter.remainingTime, 2700);
    }
    
    [TestMethod]
    public void StartTimerTest()
    {
        var counter = new Counter();
        counter.timer = new System.Timers.Timer();
        counter.StartTimer();
        Assert.IsFalse(counter.isTimerPaused);
        Assert.IsTrue(counter.isTimerRunning);
        Assert.IsTrue(counter.timer.Enabled);
        Assert.IsTrue(counter.dureeTotale.IsRunning);
        Assert.IsTrue(counter.dureeTravail.IsRunning);
        Assert.IsFalse(counter.dureePause.IsRunning);
    }
    
    [TestMethod]
    public void StartTimerCurrentCountIsNot0Test()
    {
        var counter = new Counter();
        counter.timer = new System.Timers.Timer();
        counter.currentCount = 1;
        counter.StartTimer();
        Assert.IsFalse(counter.isTimerPaused);
        Assert.IsTrue(counter.isTimerRunning);
        Assert.IsTrue(counter.timer.Enabled);
        Assert.IsFalse(counter.dureeTotale.IsRunning);
        Assert.IsFalse(counter.dureeTravail.IsRunning);
        Assert.IsFalse(counter.dureePause.IsRunning);
    }
    
    [TestMethod]
    public void PauseTimerTest()
    {
        var counter = new Counter();
        counter.timer = new System.Timers.Timer();
        counter.PauseTimer();
        Assert.IsTrue(counter.isTimerPaused);
        Assert.IsFalse(counter.isTimerRunning);
        Assert.IsFalse(counter.timer.Enabled);
        Assert.IsFalse(counter.dureeTotale.IsRunning);
        Assert.IsFalse(counter.dureeTravail.IsRunning);
        Assert.IsFalse(counter.dureePause.IsRunning);
    }
    
    [TestMethod]
    public void ResetTimerTest()
    {
        var counter = new Counter();
        counter.timer = new System.Timers.Timer();
        counter.ResetTimer();
        Assert.IsFalse(counter.timer.Enabled);
        Assert.AreEqual(counter.remainingTime, counter.pomodoroDuration);
    }
    
    [TestMethod]
    public void EndSessionTest()
    {
        var counter = new Counter();
        counter.timer = new System.Timers.Timer();
        counter.endSession();
        Assert.IsFalse(counter.dureeTotale.IsRunning);
        Assert.IsFalse(counter.dureeTravail.IsRunning);
        Assert.IsFalse(counter.dureePause.IsRunning);
    }
    
    

}
    </pre>
    <script type="text/javascript">
      highlightRanges([[16,5,16,6,1],[17,9,17,37,1],[18,9,18,34,1],[19,9,19,34,1],[20,9,20,74,1],[21,5,21,6,0],[25,5,25,6,1],[26,9,26,37,1],[27,9,27,34,1],[28,9,28,34,1],[29,9,29,50,1],[30,5,30,6,1],[34,5,34,6,1],[35,9,35,37,1],[36,9,36,58,1],[37,5,37,6,1],[41,5,41,6,1],[42,9,42,37,1],[43,9,43,25,1],[44,9,44,37,1],[45,9,45,57,1],[46,9,46,54,1],[47,5,47,6,1],[51,5,51,6,1],[52,9,52,37,1],[53,9,53,25,1],[54,9,54,38,1],[55,9,55,57,1],[56,9,56,54,1],[57,5,57,6,1],[61,5,61,6,1],[62,9,62,37,1],[63,9,63,51,1],[64,9,64,30,1],[65,9,65,47,1],[66,9,66,47,1],[67,9,67,46,1],[68,9,68,54,1],[69,9,69,55,1],[70,9,70,54,1],[71,5,71,6,1],[75,5,75,6,1],[76,9,76,37,1],[77,9,77,51,1],[78,9,78,34,1],[79,9,79,30,1],[80,9,80,47,1],[81,9,81,47,1],[82,9,82,46,1],[83,9,83,55,1],[84,9,84,56,1],[85,9,85,54,1],[86,5,86,6,1],[90,5,90,6,1],[91,9,91,37,1],[92,9,92,51,1],[93,9,93,30,1],[94,9,94,46,1],[95,9,95,48,1],[96,9,96,47,1],[97,9,97,55,1],[98,9,98,56,1],[99,9,99,54,1],[100,5,100,6,1],[104,5,104,6,1],[105,9,105,37,1],[106,9,106,51,1],[107,9,107,30,1],[108,9,108,47,1],[109,9,109,74,1],[110,5,110,6,1],[114,5,114,6,1],[115,9,115,37,1],[116,9,116,51,1],[117,9,117,30,1],[118,9,118,55,1],[119,9,119,56,1],[120,9,120,54,1],[121,5,121,6,1]]);
    </script>
  </body>
</html>